{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst handlerActions = require(\"./actions/handlerActionCreator\");\n\nconst wrapAsyncFun_1 = require(\"../utils/wrapAsyncFun\");\n\nfunction publish(action) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const _action$payload = action.payload,\n          topic = _action$payload.topic,\n          message = _action$payload.message;\n    return wrapAsyncFun_1.default(action, handlerActions.publishRes, fin => __awaiter(this, void 0, void 0, function* () {\n      yield fin.InterApplicationBus.publish(topic, message);\n      return handlerActions.publishRes({});\n    }));\n  });\n}\n\nexports.publish = publish;\n\nfunction subscribe(action) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const _action$payload2 = action.payload,\n          source = _action$payload2.source,\n          topic = _action$payload2.topic,\n          listener = _action$payload2.listener;\n    return wrapAsyncFun_1.default(action, handlerActions.subscribeRes, fin => __awaiter(this, void 0, void 0, function* () {\n      yield fin.InterApplicationBus.subscribe(source, topic, listener);\n      return handlerActions.subscribeRes({});\n    }));\n  });\n}\n\nexports.subscribe = subscribe;","map":null,"metadata":{},"sourceType":"script"}