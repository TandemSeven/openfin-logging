{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst effects_1 = require(\"redux-saga/effects\");\n\nconst init_1 = require(\"../../init\");\n\nconst application_1 = require(\"./application\");\n\nconst config_1 = require(\"./config\");\n\nconst redux_openfin_1 = require(\"redux-openfin\");\n\nconst makeType_1 = require(\"../../utils/makeType\");\n\nconst channel_1 = require(\"redux-openfin/channel\"); // logging interceptor\n\n\nfunction* handleLogAllActions(action) {\n  const state = yield effects_1.select();\n  console.log(\"\".concat(action.type), action, 'state after', state);\n}\n\nexports.handleLogAllActions = handleLogAllActions;\n\nfunction* watchAndLogSaga() {\n  yield effects_1.takeEvery('*', handleLogAllActions);\n}\n\nexports.watchAndLogSaga = watchAndLogSaga; // client redux correspondent\n\nfunction* correspondClientReduxAction(action) {\n  // console.log(\"[react-openfin]::ActCorresSaga 0#\",`${action.type}`,action);\n  if (init_1.default.clientReduxDispatch && (redux_openfin_1.isResAct(action.type) || makeType_1.isResAct(action.type) || action[channel_1.SHARED_ACTION_ORIGIN_TAG] && action[channel_1.SHARED_ACTION_ORIGIN_TAG] !== window[channel_1.SHARED_ACTION_ORIGIN_TAG] // do not need to check sharedActionsDict since already has SHARED_ACTION_ORIGIN_TAG field\n  // && initState.sharedActionsDict.has(action.type)\n  )) {\n    // console.log(\"[react-openfin]::ActCorresSaga 1#\",`${action.type}`,action);\n    init_1.default.clientReduxDispatch(action);\n  }\n}\n\nexports.correspondClientReduxAction = correspondClientReduxAction;\n\nfunction* clientReduxCorrespondent() {\n  yield effects_1.takeEvery('*', correspondClientReduxAction);\n}\n\nexports.clientReduxCorrespondent = clientReduxCorrespondent;\n\nfunction* rootSaga() {\n  const sagas = [application_1.default(), config_1.default(), clientReduxCorrespondent()];\n\n  if (init_1.default.config.logActions) {\n    sagas.unshift(watchAndLogSaga());\n  }\n\n  yield effects_1.all(sagas);\n}\n\nexports.default = rootSaga;","map":null,"metadata":{},"sourceType":"script"}