{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst redux_openfin_1 = require(\"redux-openfin\");\n\nconst channel_1 = require(\"redux-openfin/channel\");\n\nconst init_1 = require(\"./init\");\n\nconst makeType_1 = require(\"./utils/makeType\");\n\nconst GlobalTypes_1 = require(\"./GlobalTypes\");\n\nfunction middlewareCreator() {\n  return store => {\n    if (store && !init_1.default.clientReduxDispatch) {\n      // console.log(`[react-openfin] middleware init clientReduxDispatch`);\n      init_1.default.clientReduxDispatch = store.dispatch;\n    }\n\n    return next => action => {\n      // console.log(`[react-openfin] middleware 0# ${action.type}`, action);\n      // client actions\n      if (!action[channel_1.SHARED_ACTION_ORIGIN_TAG] && (redux_openfin_1.isReqAct(action.type) || makeType_1.isReqAct(action.type))) {\n        if (window[GlobalTypes_1.REACT_OPENFIN_DISPATCH_FIELD_NAME]) {\n          // console.log(`[react-openfin] middleware 1# ${action.type}`, action);\n          window[GlobalTypes_1.REACT_OPENFIN_DISPATCH_FIELD_NAME](action);\n        }\n      } else if (!action[channel_1.SHARED_ACTION_ORIGIN_TAG] && window[GlobalTypes_1.REACT_OPENFIN_DISPATCH_FIELD_NAME] && init_1.default.sharedActionsDict.has(action.type)) {\n        // console.log(`[react-openfin] middleware 2# ${action.type}`, action);\n        window[GlobalTypes_1.REACT_OPENFIN_DISPATCH_FIELD_NAME](action);\n        return next(action);\n      } else {\n        return next(action);\n      }\n    };\n  };\n}\n\nexports.default = middlewareCreator;","map":null,"metadata":{},"sourceType":"script"}